 **쿼드 트리(Quad Tree)**는 **2차원 공간을 효율적으로 분할하는 트리 구조**로, 특히 **이미지 압축, 색종이 문제, 영역 분할** 같은 문제에 자주 등장

---

## **1. 쿼드 트리란?**


**2차원 평면을 4개의 사분면(Quadrant)으로 계속 분할해 나가는 구조*

이걸 트리 형태로 표현하면, 각 노드가 최대 4개의 자식을 가지는 트리

  

### **핵심 특징:**

- 주로 **정사각형 형태의 2차원 공간**을 다룸
    
- 각 영역을 **동질성(색깔, 값 등)이 유지되는지** 확인
    
- 유지되면 압축하고, 다르면 다시 4등분
    

---

## **2. 쿼드 트리 동작 과정**

  

### **2차원 공간 예시:**

```
1111
1100
1111
1111
```

- 전체가 **동질**하지 않음 → 4등분
    
- 각 사분면을 다시 확인
    
- 더 이상 쪼갤 수 없을 때까지 반복
    

---

## **3. 쿼드 트리 구현 로직 (재귀적 분할 정복)**

```python
def quad_tree(arr, x, y, size):
    first = arr[x][y]  # 기준 값
    is_same = True
    
    for i in range(x, x + size):
        for j in range(y, y + size):
            if arr[i][j] != first:
                is_same = False
                break
        if not is_same:
            break
    
    if is_same:
        return str(first)  # 더 이상 분할 X
    
    half = size // 2  # 4등분
    return "(" + \
           quad_tree(arr, x, y, half) + \
           quad_tree(arr, x, y + half, half) + \
           quad_tree(arr, x + half, y, half) + \
           quad_tree(arr, x + half, y + half, half) + \
           ")"
```

```python
def quard(y,x,n):
	global answer
	if y == r and x == c : 종료조건
		print(answer)
		return

	if not (y<= r < y+n and x <= c < x+n) : #최적화요소
		answer += n*n
		return

	n = n // 2
	quard(y, x, n)
	quard(y, x+n,n)
	quard(y+n, x, n)
	quard(y+n, x+n,n)
	
	quard(0,0,2**N)
```
#### **코드 로직 정리**
1. 종료 조건 명시
2. 사이즈 줄임 (n//2)
3. 분할 및 탐색
	- 재귀(y,x,n)
	- 재귀(y,x+n,n)
	- 재귀(y+n,x,n)
	- 재귀(y+n,x+n,n)

또는

1. 전체 순환(2차원) 및 요구조건 파악
2. 사이즈 줄임
3. 분할 및 탐색

두번째의 경우에는 분할 및 탐색에서 사이즈가 계속해서 줄어들면서 결국에는 마지막에 전체 순환이 본인만 탐색한 후 넘어가게됨

---

## **4. 출력 예시 (압축 결과)**

  

**입력:**

```
1111
1100
1111
1111
```

**출력:**

```
(1(10)11)
```

- ()는 분할된 영역 표시
    
- "1" : 동질적 영역
    
- (10) : 분할 후 각 사분면 결과
    

---

## **5. 쿼드 트리의 시간복잡도**

- **최악의 경우:** 모든 영역이 다 다를 때 → O(N²)
    
- **평균적인 경우:** 압축이 많이 되는 경우 빠름
    
- 쿼드 트리 구조 생성 자체는 재귀적으로 공간을 분할하기 때문에 log 단계가 있지만, 내부 탐색이 O(N²)만큼 걸릴 수도 있음
    

---

## **6. 쿼드 트리 활용 예시**

|**분야**|**설명**|
|---|---|
|**이미지 압축**|동일 색 영역 압축, 흑백 이미지 압축 등|
|**공간 분할**|충돌 검출, 지도 데이터 압축|
|**게임 개발**|넓은 공간의 효율적 표현 (맵 로딩 등)|
|**백준 문제**|색종이 개수 세기, 쿼드트리 압축 문제 자주 등장|
