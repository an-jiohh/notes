  


---

## **1. 원래 OAuth의 목적:** **권한 위임(Authorization)**

  

초기의 OAuth는 다음을 해결하려고 만들어졌다:


> “내 비밀번호는 안 주고, 내 구글 캘린더 읽기 권한만 이 앱에게 주고 싶다.”

  

즉, OAuth는 **“로그인”이 아니라 “내 데이터를 대신 접근하게 허락하는 것”**이 목적이었다.

사용자는 앱에게 이메일 주소나 캘린더 **“읽기 권한”만 위임**하고 싶었던 것이다.

---

## **2. 그런데 OAuth 흐름 속에서 “인증 효과”가 생김**

  

OAuth 권한 위임을 받기 위해서는 **사용자가 먼저 인증을 해야 함**

(= “구글 계정 주인이 나라는 걸 증명해야 권한을 위임할 수 있으니까”).

  

그래서 OAuth 흐름에서 이런 단계가 발생:

1. 사용자는 구글 로그인 페이지에 리디렉트됨
    
2. 로그인 성공
    
3. 사용자가 앱에 어떤 권한을 줄지 동의함
    
4. 서버는 access_token을 발급함
    

  

이 흐름에서 보면,

  

> **“앱 입장에서는 토큰을 받았고, 그 안에 유저 정보가 있으면 ‘아 이 사람 로그인 했구나’라고 간주 가능**”

  

즉, 원래 목적은 **데이터 접근 허가**였지만, 부수적으로 **사용자가 누구인지 파악 가능하게 됨 → 로그인 대체 가능**

---

## **3. 문제: OAuth만으로 로그인 처리하기에는 부족함**

  

OAuth Access Token은 사용자를 식별하기 위한 표준 구조가 없고, 다음과 같은 문제 발생:

| **문제**      | **설명**                                              |
| ----------- | --------------------------------------------------- |
| 사용자 ID가 불명확 | access_token이 단순 리소스 접근 용도일 뿐, “누가 로그인했는가”를 명시하지 않음 |
| 토큰 형식 불명확   | JWT가 아닐 수도 있음 (opaque token 등)                      |
| 발급자 인증 없음   | 이 토큰이 구글에서 온 것인지 검증하기 어려움                           |

---

## **4. 그래서 나온 확장 사양:** 

## **OpenID Connect (OIDC)**

  

OpenID Connect는 OAuth 2.0 위에 **“사용자 인증용 ID Token”을 추가한 표준**이다.

  

### **특징:**

- OAuth2 기반 → 기존 OAuth 흐름 그대로 사용 가능
    
- 추가로 **id_token이라는 JWT**를 함께 발급
    
- id_token에는 사용자 정보(sub, email, name)가 포함됨
    
- 이를 검증하면 앱은 **로그인된 사용자 식별 가능**
    

  

### **예시**  **id_token** **(JWT)**

```
{
  "iss": "https://accounts.google.com",
  "sub": "103948302948203",
  "email": "user@example.com",
  "name": "홍길동",
  "aud": "client123",
  "exp": 1719000000
}
```

→ 이걸 보면 “이 사용자가 누구인지”, “어디서 인증했는지”, “언제까지 유효한지”를 확인할 수 있음 → 로그인 완성

---

## **결론 정리**

| **구분**                | **설명**                                               |
| --------------------- | ---------------------------------------------------- |
| OAuth                 | 원래는 권한 위임(Authorization) 목적. 사용자 인증은 범위 밖            |
| OAuth만으로 로그인?         | 가능은 하지만 불완전함. 인증용 명세 부족                              |
| OpenID Connect (OIDC) | OAuth 위에 인증 기능을 얹은 표준. id_token 추가로 로그인 처리 완성        |
| 오늘날의 소셜 로그인           | 거의 대부분 OAuth + OIDC 구조로 동작함 (Google, Kakao, Apple 등) |
