
# **JWT 서명 검증**

  

JWT는 신뢰 기반 인증을 위해 토큰의 무결성을 보장하는 서명(Signature)을 포함함.

서명은 JWT 내부의 Header와 Payload를 기반으로 생성되며, **서버는 이 서명을 재계산하여 위·변조 여부를 검증**함.

JWT의 핵심을 관통하는 요소

---
## **서명 검증 목적**

- 토큰이 발급 이후 위·변조되지 않았음을 증명
    
- 서버는 오직 **신뢰할 수 있는 키로 생성된 서명만**을 통과시킴
    
- 클라이언트가 임의로 Payload를 수정하고 새로운 JWT를 만들어도 검증 실패 처리
    
---

## **서명 검증 절차**

1. JWT 문자열을 . 기준으로 분리 → Header, Payload, Signature 추출
    
2. Header의 alg 값을 기준으로 사용 알고리즘 결정
    
3. Header + Payload를 다시 base64url 인코딩하여 문자열 결합
    
4. 해당 문자열에 대해 **서버 측 키로 서명 재계산**
    
5. 클라이언트에서 전달된 Signature와 재계산한 Signature를 비교
    

---
## **주의 사항**

- alg 값은 서버 측에서 허용 가능한 알고리즘 목록을 명시적으로 제한
    
- alg: none을 허용하지 않도록 검증 로직 구현 필수
    
- 서명 검증 실패 시 토큰 내용은 신뢰할 수 없는 상태이므로 사용 금지
    
- 비대칭키 방식에서는 kid 필드를 활용한 공개키 식별 및 선택 구현 필요

---
## **마무리**

  

서명 검증은 JWT 구조에서 가장 중요한 보안 단계

서명이 검증되지 않는 JWT는 절대 신뢰해서는 안 되며,

**모든 인증 요청은 서명 유효성 검사를 통과한 토큰에 한해서만 처리하는 구조가 필수**

  

정확한 서명 검증 없이 Payload만 해석하거나 클레임만 신뢰하는 구조는 보안상 매우 위험하며,

특히 **alg=none 허용**, **비정상적인 키 선택**, **서명 생략 디코딩** 등은 실무에서 반드시 피해야 할 구조